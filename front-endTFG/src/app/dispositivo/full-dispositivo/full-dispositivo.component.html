<app-menu></app-menu>
<div class="masthead">
  <div class="container">
    <div class="row mt-5">
      <div class="col-md-4 mx-auto">
        <br>
        <form (ngSubmit)="guardarFull()" novalidate #f="ngForm">
    
          <div class="card mt-5">

            <div class="card-header" >
             <h1 class="display-5"> Características</h1>
              </div>
            <div class="card-body">

          <h3>-Generales</h3>

          <ng-container *ngFor="let caracteristicaf of getCaracteristicas(); let i = index">
            <label  class="mt-3 lead" for="caracteristicaf">{{caracteristicaf.caracteristicaf}}</label>
            <input class="form-control" type="text" name="respuesta" [(ngModel)]="respuesta[i]">
          </ng-container>
          <br>
          <h3>-Propias</h3>

          <ng-container *ngIf="ultimoDispositivo && caracteristicas">
            <ng-container *ngFor="let caracteristica of getOptions(ultimoDispositivo.tipo.tipo); let i = index">
              <ng-container *ngIf="caracteristica.tipo.id == ultimoDispositivo.tipo.id">

                <div class="form-group">
                  <label style="font-size: 20px;">{{caracteristica.caracteristica}}</label>
                  <select class="form-control" name="opcion" [(ngModel)]="opcionf[i]">
                    <option *ngFor="let opcion of caracteristica.opciones" [ngValue]="opcion">{{opcion.opcion}}</option>
                  </select>

                  <button (click)="setCaracteristica(caracteristica.id)" routerLink="/nueva-opcion"
                    class="btn btn-outline-dark"><i>¡Añade una nueva opción!</i></button>
                </div>
              </ng-container>
            </ng-container>
          </ng-container>
          <br>
          <h3>-Ubicación</h3>
          <label for="ubicacion" class="mt-3 lead" >Ubicación</label>
          <input class="form-control" type="text" name="ubicacion" [(ngModel)]="lugar">

          <label for="ubicacion" class="mt-3 lead" >Descripción</label>
          <input class="form-control " type="text" name="descripcion" [(ngModel)]="descripcion">

          <label for="localDateTime" class="mt-3 lead">Fecha</label>
          <input class="form-control" type="date" name="fecha" [(ngModel)]="localDateTime"><br>
          <button type="submit" class="btn btn-outline-success btn-block" [disabled]="!f.valid">Crear</button>
        </div>
      </div>
        </form>
        <div class="d-flex justify-content-center">
          <button class="btn btn-primary mt-3"  routerLink="/nuevo-dispositivo" routerLinkActive="active">Volver</button>
        </div>
      </div>
    </div>
  </div>
</div>
